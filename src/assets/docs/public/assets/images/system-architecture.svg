<?xml version="1.0" encoding="UTF-8"?>
<svg width="900" height="700" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <!-- Gradient Definitions -->
        <linearGradient id="magentoGrad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#ff6b6b;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#ee5253;stop-opacity:1" />
        </linearGradient>
        <linearGradient id="jdeGrad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#4834d4;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#686de0;stop-opacity:1" />
        </linearGradient>
        <linearGradient id="cegidGrad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#20bf6b;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#26de81;stop-opacity:1" />
        </linearGradient>
        <linearGradient id="integrationGrad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#2d98da;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#45aaf2;stop-opacity:1" />
        </linearGradient>

        <!-- Drop Shadow Filter -->
        <filter id="shadow" x="-10%" y="-10%" width="120%" height="120%">
            <feDropShadow dx="2" dy="4" stdDeviation="4" flood-color="#2d3436" flood-opacity="0.3" />
        </filter>

        <!-- Arrow Markers -->
        <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5"
            markerWidth="6" markerHeight="6" orient="auto">
            <path d="M 0 0 L 10 5 L 0 10 z" fill="#2d3436"/>
        </marker>
        <marker id="dataArrow" viewBox="0 0 10 10" refX="9" refY="5"
            markerWidth="6" markerHeight="6" orient="auto">
            <path d="M 0 0 L 10 5 L 0 10 z" fill="#e17055"/>
        </marker>
        <marker id="commandArrow" viewBox="0 0 10 10" refX="9" refY="5"
            markerWidth="6" markerHeight="6" orient="auto">
            <path d="M 0 0 L 10 5 L 0 10 z" fill="#0984e3"/>
        </marker>
    </defs>

    <!-- Background -->
    <rect width="900" height="700" fill="#f5f6fa"/>

    <!-- Title -->
    <text x="450" y="50" text-anchor="middle" font-family="Roboto" font-size="28" font-weight="bold" fill="#2d3436">
        System Architecture
    </text>

    <!-- Magento System -->
    <g transform="translate(150,150)" filter="url(#shadow)">
        <rect width="180" height="120" rx="12" fill="url(#magentoGrad)"/>
        <text x="90" y="40" text-anchor="middle" font-family="Roboto" font-size="16" fill="white">Magento</text>
        <text x="90" y="70" text-anchor="middle" font-family="Roboto" font-size="12" fill="white">E-commerce Platform</text>
        <text x="90" y="90" text-anchor="middle" font-family="Roboto" font-size="10" fill="white">Products, Orders, Customers</text>
    </g>

    <!-- JD Edwards System -->
    <g transform="translate(570,150)" filter="url(#shadow)">
        <rect width="180" height="120" rx="12" fill="url(#jdeGrad)"/>
        <text x="90" y="40" text-anchor="middle" font-family="Roboto" font-size="16" fill="white">JD Edwards</text>
        <text x="90" y="70" text-anchor="middle" font-family="Roboto" font-size="12" fill="white">ERP System</text>
        <text x="90" y="90" text-anchor="middle" font-family="Roboto" font-size="10" fill="white">Inventory, Finance, Manufacturing</text>
    </g>

    <!-- Integration Layer -->
    <g transform="translate(300,300)" filter="url(#shadow)">
        <rect width="300" height="120" rx="12" fill="url(#integrationGrad)"/>
        <text x="150" y="35" text-anchor="middle" font-family="Roboto" font-size="16" fill="white">Integration Layer</text>
        <text x="150" y="60" text-anchor="middle" font-family="Roboto" font-size="12" fill="white">ETL Processes | API Gateway</text>
        <text x="150" y="80" text-anchor="middle" font-family="Roboto" font-size="12" fill="white">Message Queue | Data Validation</text>
        <text x="150" y="100" text-anchor="middle" font-family="Roboto" font-size="12" fill="white">Error Handling | Monitoring</text>
    </g>

    <!-- Cegid System -->
    <g transform="translate(360,500)" filter="url(#shadow)">
        <rect width="180" height="120" rx="12" fill="url(#cegidGrad)"/>
        <text x="90" y="40" text-anchor="middle" font-family="Roboto" font-size="16" fill="white">Cegid</text>
        <text x="90" y="70" text-anchor="middle" font-family="Roboto" font-size="12" fill="white">Retail Management</text>
        <text x="90" y="90" text-anchor="middle" font-family="Roboto" font-size="10" fill="white">POS, Store Operations</text>
    </g>

    <!-- Connection Lines -->
    <!-- Data Flow (Orange) -->
    <g stroke="#e17055" stroke-width="2" fill="none" marker-end="url(#dataArrow)">
        <path d="M 330,210 C 340,240 350,250 350,300" class="data-flow"/>
        <path d="M 570,210 C 560,240 550,250 550,300" class="data-flow"/>
        <path d="M 450,420 L 450,500" class="data-flow"/>
    </g>

    <!-- Command Flow (Blue) -->
    <g stroke="#0984e3" stroke-width="2" fill="none" marker-end="url(#commandArrow)" stroke-dasharray="5,5">
        <path d="M 350,300 C 340,250 330,220 330,210" class="command-flow"/>
        <path d="M 550,300 C 560,250 570,220 570,210" class="command-flow"/>
        <path d="M 450,500 L 450,420" class="command-flow"/>
    </g>

    <!-- Flow Labels -->
    <g font-family="Roboto" font-size="11" fill="#2d3436">
        <text x="280" y="240">Data Updates</text>
        <text x="380" y="240">API Calls</text>
        <text x="580" y="240">Inventory Data</text>
        <text x="480" y="240">ERP Commands</text>
        <text x="470" y="470">Retail Data</text>
        <text x="380" y="470">POS Commands</text>
    </g>

    <!-- Legend -->
    <g transform="translate(50,600)" filter="url(#shadow)">
        <rect width="800" height="80" rx="8" fill="white" stroke="#2d3436"/>
        <text x="20" y="25" font-family="Roboto" font-size="14" font-weight="bold">System Components:</text>
        <g transform="translate(20,45)">
            <circle cx="10" cy="0" r="5" fill="url(#magentoGrad)"/>
            <text x="25" y="4" font-family="Roboto" font-size="12">E-commerce (Magento)</text>
            
            <circle cx="160" cy="0" r="5" fill="url(#jdeGrad)"/>
            <text x="175" y="4" font-family="Roboto" font-size="12">ERP (JD Edwards)</text>
            
            <circle cx="300" cy="0" r="5" fill="url(#cegidGrad)"/>
            <text x="315" y="4" font-family="Roboto" font-size="12">Retail (Cegid)</text>
            
            <circle cx="440" cy="0" r="5" fill="url(#integrationGrad)"/>
            <text x="455" y="4" font-family="Roboto" font-size="12">Integration Services</text>
        </g>
        
        <text x="20" y="65" font-family="Roboto" font-size="14" font-weight="bold">Data Flow:</text>
        <g transform="translate(100,65)">
            <line x1="0" y1="0" x2="30" y2="0" stroke="#e17055" stroke-width="2" marker-end="url(#dataArrow)"/>
            <text x="40" y="4" font-family="Roboto" font-size="12">Data Updates</text>
            
            <line x1="150" y1="0" x2="180" y2="0" stroke="#0984e3" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#commandArrow)"/>
            <text x="190" y="4" font-family="Roboto" font-size="12">System Commands</text>
        </g>
    </g>
</svg>
